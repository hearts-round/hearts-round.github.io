(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{37:function(e,t,a){"use strict";function i(e,t,a){return{get:function(){var e=a.value.bind(this);return Object.defineProperty(this,t,{value:e}),e}}}a.d(t,"a",function(){return i})},38:function(e,t,a){},39:function(e,t,a){"use strict";var i=a(37),n=function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},o=function(){function e(e){var t,a,i,n,o,r,l;t=e.vocal,this.vocal=void 0===t?"":t,a=e.original,this.original=void 0===a?"":a,i=e.composer,this.composer=void 0===i?"":i,n=e.arrange,this.arrange=void 0===n?"":n,o=e.lyrics,this.lyrics=void 0===o?"":o,r=e.pv,this.pv=void 0===r?"":r,l=e.illustrator,this.illustrator=void 0===l?"":l}return e.prototype.merge=function(e,t){return""===this[e]&&""===this[t]?"":""===this[e]?this[t]:""===this[t]?this[e]:this[e]+" | "+this[t]},n([i.a],e.prototype,"merge",null),e}();t.a=o},40:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i=function(){return function(e,t,a){this.music=e,this.image=t,this.videoId=a}}()},41:function(e,t,a){"use strict";var i=a(11),n=a(37),o=(a(38),function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r}),r=new(function(){function e(){this.historyCount=0,this.openCount=0,this.baseZIndex=999}return e.prototype.createFullscreenMask=function(){this.historyCount++,this.openCount++;var e=document.createElement("div");return e.style.zIndex=(this.baseZIndex+this.historyCount).toString(),e.classList.add("lt-modal__mask"),document.getElementsByTagName("body")[0].classList.add("modal-open"),e},e.prototype.closeModal=function(e){Object(i.unmountComponentAtNode)(e),this.openCount--,0===this.openCount&&document.getElementsByTagName("body")[0].classList.remove("modal-open"),e.parentNode.removeChild(e)},o([n.a],e.prototype,"createFullscreenMask",null),o([n.a],e.prototype,"closeModal",null),e}());t.a=r},42:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var i=a(0),n=a.n(i);function o(e,t,a){function i(a){null!==e.current&&(e.current.contains(a.target)||t())}n.a.useEffect(function(){return void 0===a&&(a=document),a.addEventListener("click",i),function(){a.removeEventListener("click",i)}},[])}},43:function(e,t,a){"use strict";var i=a(0),n=a.n(i),o=(a(38),n.a.forwardRef(function(e,t){var a=e.className,i=void 0===a?"":a,o=e.children,r=e.nextLabel,l=e.prevLabel,c=e.handlePrev,s=e.handleNext;return n.a.createElement("div",{ref:t,className:"lt-modal__window lt-modal__window--center lt-modal__window--nav "+i},o,n.a.createElement("div",{className:"nav__wrapper"},n.a.createElement("a",{onClick:c,className:"nav__button nav__button--previous clickable "+(""===l?"hide":"")},n.a.createElement("span",null,"← ",l)),n.a.createElement("a",{onClick:s,className:"nav__button nav__button--next clickable "+(""===r?"hide":"")},n.a.createElement("span",null,r," →"))))}));t.a=o},44:function(e){e.exports=[{name:"album001",code:"HATO001",cover:"https://via.placeholder.com/500x500",date:"2017-12-9",thanks:"Renka",product_link:{taobao:"https://www.taobao.com"},tracks:[{title:"track 001",vocal:"CoreTania",original:"original track 001",composer:"xxx",arrange:"xiaobai2",pv:"some_one",lyrics:"N-apoleon1",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 002",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]},{name:"album002",code:"HATO002",date:"2017-12-12",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 004",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 005",vocal:"CoreTania",original:"original track 001",pv:"some_one",illustrator:"TOMATO",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!1}]},{name:"album003",code:"HATO003",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 008",vocal:"CoreTania",original:"original track 001",illustrator:"TOMATO",arrange:"xiaobai",lyrics:"N-apoleon",pv:"some_one",length:"04:32",link:"mp3_link",has_lyrics:!1},{title:"track 007",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]},{name:"album004",code:"HATO004",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 021",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",composer:"composer",illustrator:"TOMATO",lyrics:"N-apoleon",length:"04:32",pv:"some_one",link:"mp3_link",has_lyrics:!0},{title:"track 011",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",pv:"some_one",has_lyrics:!0}]}]},45:function(e,t,a){"use strict";var i=a(44),n=a(39),o=function(){function e(e,t,a,i,n,o,r){this.code=e,this.name=t,this.date=a,this.cover=i,this.thanks=n,this.purchaseLink=o,this.tracks=r,this.author=this.generateAuthor()}return e.prototype.generateAuthor=function(){var e=new Map;this.tracks.forEach(function(t){Object.keys(t.author).forEach(function(a){""===t.author[a]&&void 0!==t.author[a]||(void 0===e.get(a)?e.set(a,[t.author[a]]):e.get(a).findIndex(function(e){return e===t.author[a]})<0&&e.get(a).push(t.author[a]))})});for(var t=new n.a({}),a=e.entries(),i=a.next().value;void 0!==i;){var o=i[0],r=i[1];void 0!==r&&(t[o]=r.join(" | ")),i=a.next().value}return t},e}(),r=a(40),l=function(){return function(e,t,a,i,n){void 0===i&&(i=""),void 0===n&&(n=!1),this.title=e,this.length=t,this.author=a,this.hasLyrics=n,this.links=new r.a,this.links.music=i}}(),c=i.map(function(e){return new o(e.code,e.name,e.date,e.cover,e.thanks,e.product_link,e.tracks.map(function(e){return new l(e.title,e.length,new n.a(e),e.link,e.has_lyrics)}))});t.a=c},48:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return u});var i=a(0),n=a.n(i),o=a(5),r=function(){return(r=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=Object(i.createContext)(null),c=Object(i.forwardRef)(function(e,t){var a=e.width,c=e.height,s=Object(i.useContext)(l),u=s.videoId,d=s.site,m=Object(i.useState)(!0),h=m[0],v=m[1],p={width:a,height:c,frameBorder:0,allowFullScreen:!0,type:"text/html"};switch(d){case"youtube":p.src="https://www.youtube.com/embed/"+u.youtube;break;case"bilibili":var _=u.bilibili.slice(2).split("/?p="),b=_[0],f=_[1],k=void 0===f?"1":f;p.src="https://player.bilibili.com/player.html?aid="+b+"&page="+k}return n.a.createElement(n.a.Fragment,null,n.a.createElement("iframe",r({},p,{ref:t,onLoad:v.bind(null,!1),className:"v-modal__embed "+(h?"hide":"")})),h?n.a.createElement("div",{style:{height:c,width:a}},n.a.createElement(o.a,null)):null)}),s=function(e){var t=e.field,a=e.value;return void 0===a||""===a?null:n.a.createElement("p",{className:"section__text"},t,": ",a)};function u(){var e=Object(i.useContext)(l),t=Object(i.useRef)(null);return n.a.createElement("main",{className:"video-modal__window"},n.a.createElement("div",{className:"video-modal__column--video"},n.a.createElement("div",{className:"video-modal__title-container"},n.a.createElement("h2",{className:"video-modal__title modal__title"},e.title)),n.a.createElement(c,{height:300,width:530,key:e.title,ref:t})),n.a.createElement("article",{className:"video-modal__column--description"},n.a.createElement("section",{className:"video-modal-description__section with-v-bar"},n.a.createElement("p",{className:"section__text"},n.a.createElement("a",{href:e.linkUrl,target:"_blank"},e.linkLabel))),n.a.createElement("section",{className:"video-modal-description__section with-v-bar"},n.a.createElement(s,{field:"Original",value:e.author.original}),n.a.createElement(s,{field:"Compose",value:e.author.composer}),n.a.createElement(s,{field:"Arrange",value:e.author.arrange}),n.a.createElement(s,{field:"Lyric",value:e.author.lyrics}),n.a.createElement(s,{field:"Vocal",value:e.author.vocal}),n.a.createElement(s,{field:"PV",value:e.author.pv})),n.a.createElement("section",{className:"video-modal-description__section description__section--link with-v-bar"},n.a.createElement("p",{className:"section__text section__text--gap"},"Link"),n.a.createElement("p",{className:"section__text"},n.a.createElement("a",{target:"_blank",href:"https://www.bilibili.com/video/"+e.videoId.bilibili},"Bilibili")),n.a.createElement("p",{className:"section__text"},n.a.createElement("a",{target:"_blank",href:"https://www.nicovideo.jp/watch/"+e.videoId.niconico},"Niconico")),n.a.createElement("p",{className:"section__text"},n.a.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v="+e.videoId.youtube},"Youtube")))))}},69:function(e,t){e.exports=[{album_code:"HATO001",track_id:"1",cover:"https://via.placeholder.com/290x290",id_youtube:"dpw9EHDh2bM",id_bilibili:"av35219233/?p=1",id_niconico:"sm30379034"},{album_code:"HATO002",track_id:"2",cover:"https://via.placeholder.com/290x290",id_youtube:"",id_bilibili:"av2739129/?p=2",id_niconico:""},{album_code:"HATO003",track_id:"1",cover:"https://via.placeholder.com/290x290",id_youtube:"dpw9EHDh2bM",id_bilibili:"av35219233/?p=1",id_niconico:"sm30379034"},{album_code:"HATO003",track_id:"2",cover:"https://via.placeholder.com/290x290",id_youtube:"dpw9EHDh2bM",id_bilibili:"av35219233/?p=1",id_niconico:""},{album_code:"HATO004",track_id:"1",cover:"https://via.placeholder.com/290x290",id_youtube:"",id_bilibili:"av35219233/?p=1",id_niconico:"sm30379034"}]},70:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),o=a(45),r=a(69),l=a.n(r),c=a(40),s=function(){return function(e,t,a,i){this.trackIdx=t,this.cover=a,this.links=new c.a,this.track=e.tracks[t],this.albumCode=e.code,this.albumName=e.name,this.links.videoId=i}}(),u=l.a.map(function(e){var t=o.a.filter(function(t){return t.code.toLowerCase()===e.album_code.toLowerCase()})[0],a=parseInt(e.track_id,10)-1;return new s(t,a,e.cover,{bilibili:e.id_bilibili,youtube:e.id_youtube,niconico:e.id_niconico})}),d=a(11),m=a(42),h=a(48),v=a(43),p=a(41),_=function(){return(_=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function b(e){var t=e.initialIdx,a=e.container,o=Object(i.useState)(t),r=o[0],l=o[1],c=n.a.useRef(null);return Object(m.a)(c,p.a.closeModal.bind(p.a,a),a),console.log(u,r),n.a.createElement(v.a,{prevLabel:r>0?u[r-1].track.title:"",nextLabel:r<u.length-1?u[r+1].track.title:"",handleNext:function(){return l(r+1)},handlePrev:function(){return l(r-1)},ref:c,className:"video-modal"},n.a.createElement(h.a.Provider,{value:_({},u[r].track,{videoId:u[r].links.videoId,site:"bilibili",linkUrl:"/discography/album/"+u[r].albumCode,linkLabel:"『"+u[r].albumName+"』",lyricsUrl:"/discography/lyrics/"+u[r].albumCode+"/"+(u[r].trackIdx+1)+"}",externalUrl:u[r].track.links.music})},n.a.createElement(h.b,null)))}a(70);var f=function(e){var t=e.field,a=e.value;return void 0===a||""===a?null:n.a.createElement("p",{className:"indent info__others"},t,": ",a)},k=function(e){var t=e.info,a=e.idx;return n.a.createElement("section",{className:"list__video"},n.a.createElement("div",{className:"video__cover clickable",onClick:function(e){var t=p.a.createFullscreenMask();Object(d.render)(n.a.createElement(b,{initialIdx:e,container:t}),t),document.getElementsByTagName("body")[0].appendChild(t)}.bind(null,a)},n.a.createElement("img",{src:t.cover}),n.a.createElement("div",{className:"video__button--outer"},n.a.createElement("i",{className:"video__button--inner"}))),n.a.createElement("article",{className:"video__info"},n.a.createElement("header",{className:"info__header"},n.a.createElement("h1",{className:"info__title"},t.track.title),n.a.createElement("h4",{className:"indent info__album"},"『",t.albumName,"』")),n.a.createElement("section",{className:"info__author"},n.a.createElement(f,{field:"Original",value:t.track.author.original}),n.a.createElement(f,{field:"Compose",value:t.track.author.composer}),n.a.createElement(f,{field:"Arrange",value:t.track.author.arrange}),n.a.createElement(f,{field:"Lyric",value:t.track.author.lyrics}),n.a.createElement(f,{field:"Vocal",value:t.track.author.vocal}),n.a.createElement(f,{field:"PV",value:t.track.author.pv})),n.a.createElement("div",{className:"indent info__urls"},n.a.createElement("i",{className:"urls__icon urls__icon--bilibili clickable"}),n.a.createElement("i",{className:"urls__icon urls__icon--niconico clickable"}),n.a.createElement("i",{className:"urls__icon urls__icon--youtube clickable"}))))};t.default=function(){return n.a.createElement("div",{className:"video__container"},u.map(function(e,t){return n.a.createElement(k,{info:e,idx:t,key:t})}))}}}]);