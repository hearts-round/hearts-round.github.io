(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{364:function(e,t,a){"use strict";function i(e,t,a){return{get:function(){var e=a.value.bind(this);return Object.defineProperty(this,t,{value:e}),e}}}a.d(t,"a",function(){return i})},365:function(e,t,a){},366:function(e,t,a){"use strict";var i=a(364),n=function(e,t,a,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(r<3?n(o):r>3?n(t,a,o):n(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o},r=function(){function e(e){var t,a,i,n,r,o,l;t=e.vocal,this.vocal=void 0===t?"":t,a=e.original,this.original=void 0===a?"":a,i=e.composer,this.composer=void 0===i?"":i,n=e.arrange,this.arrange=void 0===n?"":n,r=e.lyrics,this.lyrics=void 0===r?"":r,o=e.pv,this.pv=void 0===o?"":o,l=e.illustrator,this.illustrator=void 0===l?"":l}return e.prototype.merge=function(e,t){return""===this[e]&&""===this[t]?"":""===this[e]?this[t]:""===this[t]?this[e]:this[e]+" | "+this[t]},n([i.a],e.prototype,"merge",null),e}();t.a=r},367:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i=function(){return function(e,t,a){this.music=e,this.image=t,this.videoId=a}}()},368:function(e,t,a){"use strict";var i=a(101),n=a(364),r=(a(365),function(e,t,a,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(r<3?n(o):r>3?n(t,a,o):n(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o}),o=new(function(){function e(){this.historyCount=0,this.openCount=0,this.baseZIndex=999}return e.prototype.createFullscreenMask=function(){this.historyCount++,this.openCount++;var e=document.createElement("div");return e.style.zIndex=(this.baseZIndex+this.historyCount).toString(),e.classList.add("lt-modal__mask"),document.getElementsByTagName("body")[0].classList.add("modal-open"),e},e.prototype.closeModal=function(e){Object(i.unmountComponentAtNode)(e),this.openCount--,0===this.openCount&&document.getElementsByTagName("body")[0].classList.remove("modal-open"),e.parentNode.removeChild(e)},r([n.a],e.prototype,"createFullscreenMask",null),r([n.a],e.prototype,"closeModal",null),e}());t.a=o},369:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var i=a(1),n=a.n(i);function r(e,t,a){function i(a){null!==e.current&&(e.current.contains(a.target)||t())}n.a.useEffect(function(){return void 0===a&&(a=document),a.addEventListener("click",i),function(){a.removeEventListener("click",i)}},[])}},370:function(e,t,a){"use strict";var i=a(1),n=a.n(i),r=(a(365),n.a.forwardRef(function(e,t){var a=e.className,i=void 0===a?"":a,r=e.children,o=e.nextLabel,l=e.prevLabel,c=e.handlePrev,s=e.handleNext;return n.a.createElement("div",{ref:t,className:"lt-modal__window lt-modal__window--center lt-modal__window--nav "+i},r,n.a.createElement("div",{className:"nav__wrapper"},n.a.createElement("a",{onClick:c,className:"nav__button nav__button--previous clickable "+(""===l?"hide":"")},n.a.createElement("span",null,"← ",l)),n.a.createElement("a",{onClick:s,className:"nav__button nav__button--next clickable "+(""===o?"hide":"")},n.a.createElement("span",null,o," →"))))}));t.a=r},371:function(e){e.exports=[{name:"album001",code:"HATO001",cover:"https://via.placeholder.com/500x500",date:"2017-12-9",thanks:"Renka",product_link:{taobao:"https://www.taobao.com"},tracks:[{title:"track 001",vocal:"CoreTania",original:"original track 001",composer:"xxx",arrange:"xiaobai2",pv:"some_one",lyrics:"N-apoleon1",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 002",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]},{name:"album002",code:"HATO002",date:"2017-12-12",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 004",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 005",vocal:"CoreTania",original:"original track 001",pv:"some_one",illustrator:"TOMATO",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!1}]},{name:"album003",code:"HATO003",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 008",vocal:"CoreTania",original:"original track 001",illustrator:"TOMATO",arrange:"xiaobai",lyrics:"N-apoleon",pv:"some_one",length:"04:32",link:"mp3_link",has_lyrics:!1},{title:"track 007",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]},{name:"album004",code:"HATO004",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 021",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",composer:"composer",illustrator:"TOMATO",lyrics:"N-apoleon",length:"04:32",pv:"some_one",link:"mp3_link",has_lyrics:!0},{title:"track 011",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",pv:"some_one",has_lyrics:!0}]}]},372:function(e,t,a){"use strict";var i=a(371),n=a(366),r=function(){function e(e,t,a,i,n,r,o){this.code=e,this.name=t,this.date=a,this.cover=i,this.thanks=n,this.purchaseLink=r,this.tracks=o,this.author=this.generateAuthor()}return e.prototype.generateAuthor=function(){var e=new Map;this.tracks.forEach(function(t){Object.keys(t.author).forEach(function(a){""===t.author[a]&&void 0!==t.author[a]||(void 0===e.get(a)?e.set(a,[t.author[a]]):e.get(a).findIndex(function(e){return e===t.author[a]})<0&&e.get(a).push(t.author[a]))})});for(var t=new n.a({}),a=e.entries(),i=a.next().value;void 0!==i;){var r=i[0],o=i[1];void 0!==o&&(t[r]=o.join(" | ")),i=a.next().value}return t},e}(),o=a(367),l=function(){return function(e,t,a,i,n){void 0===i&&(i=""),void 0===n&&(n=!1),this.title=e,this.length=t,this.author=a,this.hasLyrics=n,this.links=new o.a,this.links.music=i}}(),c=i.map(function(e){return new r(e.code,e.name,e.date,e.cover,e.thanks,e.product_link,e.tracks.map(function(e){return new l(e.title,e.length,new n.a(e),e.link,e.has_lyrics)}))});t.a=c},375:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return d});var i=a(1),n=a.n(i),r=a(34),o=function(){return(o=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=Object(i.createContext)(null),c=Object(i.forwardRef)(function(e,t){var a=e.width,c=e.height,s=Object(i.useContext)(l),u=s.videoId,d=s.site,m=Object(i.useState)(!0),h=m[0],v=m[1],p={width:a,height:c,frameBorder:0,allowFullScreen:!0,type:"text/html"};switch(d){case"youtube":p.src="https://www.youtube.com/embed/"+u.youtube;break;case"bilibili":var _=u.bilibili.slice(2).split("/?p="),b=_[0],f=_[1],k=void 0===f?"1":f;p.src="https://player.bilibili.com/player.html?aid="+b+"&page="+k}return n.a.createElement(n.a.Fragment,null,n.a.createElement("iframe",o({},p,{ref:t,onLoad:v.bind(null,!1),className:"v-modal__embed "+(h?"hide":"")})),h?n.a.createElement("div",{style:{height:c,width:a}},n.a.createElement(r.a,null)):null)}),s=function(e){var t=e.field,a=e.value;return void 0===a||""===a?null:n.a.createElement("p",{className:"section__text"},t,": ",a)},u=function(e){var t=e.videoId,a=e.site,i="#";if(""!==t)switch(a){case"bilibili":i="https://www.bilibili.com/video/"+t;break;case"youtube":i="https://www.youtube.com/watch?v="+t;break;case"niconico":i="https://www.nicovideo.jp/watch/"+t}return n.a.createElement("p",{className:"section__text"},n.a.createElement("a",{target:"_blank",className:""===t?"modal__link--disabled":"modal__link",href:""===t?void 0:i},a))};function d(){var e=Object(i.useContext)(l),t=Object(i.useRef)(null);return n.a.createElement("main",{className:"v-modal__window"},n.a.createElement("div",{className:"v-modal__column--video"},n.a.createElement("header",{className:"v-modal__title-container"},n.a.createElement("h2",{className:"v-modal__title modal__title"},e.title),n.a.createElement("a",{target:"_blank",href:""===e.lyricsUrl?void 0:e.lyricsUrl,className:"v-modal__header-link v-modal__header-link--lyrics\n              "+(""===e.lyricsUrl?"disabled":"")}),n.a.createElement("a",{target:"_blank",href:""===e.externalUrl?void 0:e.externalUrl,className:"v-modal__header-link v-modal__header-link--music\n              "+(""===e.externalUrl?"disabled":"")})),n.a.createElement(c,{height:300,width:530,key:e.title,ref:t})),n.a.createElement("article",{className:"v-modal__column--description"},n.a.createElement("section",{className:"v-modal-description__section with-v-bar"},n.a.createElement("p",{className:"section__text"},n.a.createElement("a",{href:e.linkUrl,target:"_blank",className:"modal__link"},e.linkLabel))),n.a.createElement("section",{className:"v-modal-description__section with-v-bar"},n.a.createElement(s,{field:"Original",value:e.author.original}),n.a.createElement(s,{field:"Compose",value:e.author.composer}),n.a.createElement(s,{field:"Arrange",value:e.author.arrange}),n.a.createElement(s,{field:"Lyric",value:e.author.lyrics}),n.a.createElement(s,{field:"Vocal",value:e.author.vocal}),n.a.createElement(s,{field:"PV",value:e.author.pv})),n.a.createElement("section",{className:"v-modal-description__section description__section--link with-v-bar"},n.a.createElement("p",{className:"section__text section__text--gap"},"Link"),n.a.createElement(u,{site:"bilibili",videoId:e.videoId.bilibili}),n.a.createElement(u,{site:"youtube",videoId:e.videoId.youtube}),n.a.createElement(u,{site:"niconico",videoId:e.videoId.niconico}))))}},396:function(e,t){e.exports=[{album_code:"HATO001",track_id:"1",cover:"https://via.placeholder.com/290x290",id_youtube:"dpw9EHDh2bM",id_bilibili:"av35219233/?p=1",id_niconico:"sm30379034"},{album_code:"HATO002",track_id:"2",cover:"https://via.placeholder.com/290x290",id_youtube:"",id_bilibili:"av2739129/?p=2",id_niconico:""},{album_code:"HATO003",track_id:"1",cover:"https://via.placeholder.com/290x290",id_youtube:"dpw9EHDh2bM",id_bilibili:"av35219233/?p=1",id_niconico:"sm30379034"},{album_code:"HATO003",track_id:"2",cover:"https://via.placeholder.com/290x290",id_youtube:"dpw9EHDh2bM",id_bilibili:"av35219233/?p=1",id_niconico:""},{album_code:"HATO004",track_id:"1",cover:"https://via.placeholder.com/290x290",id_youtube:"",id_bilibili:"av35219233/?p=1",id_niconico:"sm30379034"}]},397:function(e,t,a){},404:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),r=a(372),o=a(396),l=a.n(o),c=a(367),s=function(){return function(e,t,a,i){this.trackIdx=t,this.cover=a,this.links=new c.a,this.track=e.tracks[t],this.albumCode=e.code,this.albumName=e.name,this.links.videoId=i}}(),u=l.a.map(function(e){var t=r.a.filter(function(t){return t.code.toLowerCase()===e.album_code.toLowerCase()})[0],a=parseInt(e.track_id,10)-1;return new s(t,a,e.cover,{bilibili:e.id_bilibili,youtube:e.id_youtube,niconico:e.id_niconico})}),d=a(101),m=a(369),h=a(375),v=a(370),p=a(368),_=function(){return(_=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function b(e){var t=e.initialIdx,a=e.container,r=Object(i.useState)(t),o=r[0],l=r[1],c=n.a.useRef(null);return Object(m.a)(c,p.a.closeModal.bind(p.a,a),a),n.a.createElement(v.a,{prevLabel:o>0?u[o-1].track.title:"",nextLabel:o<u.length-1?u[o+1].track.title:"",handleNext:function(){return l(o+1)},handlePrev:function(){return l(o-1)},ref:c,className:"video-modal"},n.a.createElement(h.a.Provider,{value:_({},u[o].track,{videoId:u[o].links.videoId,site:"bilibili",linkUrl:"/discography/album/"+u[o].albumCode,linkLabel:"『"+u[o].albumName+"』",lyricsUrl:u[o].track.hasLyrics?"/discography/lyrics/"+u[o].albumCode+"/"+(u[o].trackIdx+1)+"}":"",externalUrl:u[o].track.links.music})},n.a.createElement(h.b,null)))}a(397);var f=function(e){var t=e.field,a=e.value;return void 0===a||""===a?null:n.a.createElement("p",{className:"indent info__others"},t,": ",a)},k=function(e){var t=e.info,a=e.idx;return n.a.createElement("section",{className:"list__video"},n.a.createElement("div",{className:"video__cover clickable",onClick:function(e){var t=p.a.createFullscreenMask();Object(d.render)(n.a.createElement(b,{initialIdx:e,container:t}),t),document.getElementsByTagName("body")[0].appendChild(t)}.bind(null,a)},n.a.createElement("img",{src:t.cover}),n.a.createElement("div",{className:"video__button--outer"},n.a.createElement("i",{className:"video__button--inner"}))),n.a.createElement("article",{className:"video__info"},n.a.createElement("header",{className:"info__header"},n.a.createElement("h1",{className:"info__title"},t.track.title),n.a.createElement("h4",{className:"indent info__album"},"『",t.albumName,"』")),n.a.createElement("section",{className:"info__author"},n.a.createElement(f,{field:"Original",value:t.track.author.original}),n.a.createElement(f,{field:"Compose",value:t.track.author.composer}),n.a.createElement(f,{field:"Arrange",value:t.track.author.arrange}),n.a.createElement(f,{field:"Lyric",value:t.track.author.lyrics}),n.a.createElement(f,{field:"Vocal",value:t.track.author.vocal}),n.a.createElement(f,{field:"PV",value:t.track.author.pv})),n.a.createElement("div",{className:"indent info__urls"},n.a.createElement("i",{className:"urls__icon urls__icon--bilibili clickable"}),n.a.createElement("i",{className:"urls__icon urls__icon--niconico clickable"}),n.a.createElement("i",{className:"urls__icon urls__icon--youtube clickable"}))))};t.default=function(){return n.a.createElement("div",{className:"video__container"},u.map(function(e,t){return n.a.createElement(k,{info:e,idx:t,key:t})}))}}}]);