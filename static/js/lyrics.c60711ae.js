(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{365:function(i,t,e){"use strict";function a(i,t,e){return{get:function(){var i=e.value.bind(this);return Object.defineProperty(this,t,{value:i}),i}}}e.d(t,"a",function(){return a})},367:function(i,t,e){"use strict";var a=e(365),r=function(i,t,e,a){var r,o=arguments.length,n=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(i,t,e,a);else for(var c=i.length-1;c>=0;c--)(r=i[c])&&(n=(o<3?r(n):o>3?r(t,e,n):r(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},o=function(){function i(i){var t,e,a,r,o,n,c;t=i.vocal,this.vocal=void 0===t?"":t,e=i.original,this.original=void 0===e?"":e,a=i.composer,this.composer=void 0===a?"":a,r=i.arrange,this.arrange=void 0===r?"":r,o=i.lyrics,this.lyrics=void 0===o?"":o,n=i.pv,this.pv=void 0===n?"":n,c=i.illustrator,this.illustrator=void 0===c?"":c}return i.prototype.merge=function(i,t){return""===this[i]&&""===this[t]?"":""===this[i]?this[t]:""===this[t]?this[i]:this[i]+" | "+this[t]},r([a.a],i.prototype,"merge",null),i}();t.a=o},368:function(i,t,e){"use strict";e.d(t,"a",function(){return a});var a=function(){return function(i,t,e){this.music=i,this.image=t,this.videoId=e}}()},372:function(i){i.exports=[{name:"album001",code:"HATO001",cover:"https://via.placeholder.com/500x500",date:"2017-12-9",thanks:"Renka",product_link:{taobao:"https://www.taobao.com"},tracks:[{title:"track 001",vocal:"CoreTania",original:"original track 001",composer:"xxx",arrange:"xiaobai2",pv:"some_one",lyrics:"N-apoleon1",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 002",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]},{name:"album002",code:"HATO002",date:"2017-12-12",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 004",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 005",vocal:"CoreTania",original:"original track 001",pv:"some_one",illustrator:"TOMATO",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!1}]},{name:"album003",code:"HATO003",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 008",vocal:"CoreTania",original:"original track 001",illustrator:"TOMATO",arrange:"xiaobai",lyrics:"N-apoleon",pv:"some_one",length:"04:32",link:"mp3_link",has_lyrics:!1},{title:"track 007",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]},{name:"album004",code:"HATO004",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 021",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",composer:"composer",illustrator:"TOMATO",lyrics:"N-apoleon",length:"04:32",pv:"some_one",link:"mp3_link",has_lyrics:!0},{title:"track 011",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",pv:"some_one",has_lyrics:!0}]}]},373:function(i,t,e){"use strict";var a=e(372),r=e(367),o=function(){function i(i,t,e,a,r,o,n){this.code=i,this.name=t,this.date=e,this.cover=a,this.thanks=r,this.purchaseLink=o,this.tracks=n,this.author=this.generateAuthor()}return i.prototype.generateAuthor=function(){var i=new Map;this.tracks.forEach(function(t){Object.keys(t.author).forEach(function(e){""===t.author[e]&&void 0!==t.author[e]||(void 0===i.get(e)?i.set(e,[t.author[e]]):i.get(e).findIndex(function(i){return i===t.author[e]})<0&&i.get(e).push(t.author[e]))})});for(var t=new r.a({}),e=i.entries(),a=e.next().value;void 0!==a;){var o=a[0],n=a[1];void 0!==n&&(t[o]=n.join(" | ")),a=e.next().value}return t},i}(),n=e(368),c=function(){return function(i,t,e,a,r){void 0===a&&(a=""),void 0===r&&(r=!1),this.title=i,this.length=t,this.author=e,this.hasLyrics=r,this.links=new n.a,this.links.music=a}}(),l=a.map(function(i){return new o(i.code,i.name,i.date,i.cover,i.thanks,i.product_link,i.tracks.map(function(i){return new c(i.title,i.length,new r.a(i),i.link,i.has_lyrics)}))});t.a=l},374:function(i,t,e){"use strict";var a=e(375),r=e.n(a),o=e(368),n=function(){return function(i,t,e,a,r,n,c,l){this.cover=i,this.title=t,this.principle=e,this.author=a,this.description=c,this.hasLyrics=l,this.links=new o.a,this.links.videoId=r,this.links.music=n}}(),c=e(367),l=function(){return(l=Object.assign||function(i){for(var t,e=1,a=arguments.length;e<a;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i}).apply(this,arguments)},s=r.a.map(function(i,t){return new n(i.cover,i.title,{name:i.principle,link:i.principle_url},new c.a(l({},i)),{bilibili:i.video_bilibili,niconico:i.video_niconico,youtube:i.video_youtube},i.ext_link,{top:i.info_1.split(";"),bottom:i.info_2},"true"===i.has_lyrics)});t.a=s},375:function(i,t){i.exports=[{principle:"work001",principle_url:"https://weibo.com/u/6500013650",title:"title1",cover:"https://via.placeholder.com/270x150",info_1:"xxx乐曲xxxxx;Arrangement提供",info_2:"收录于专辑bbbbb",video_bilibili:"av35219233/?p=1",video_niconico:"",video_youtube:"sm30379034",original:"CoreTania",compose:"magic girl",arrange:"CoreTania",lyric:"CoreTania",illust:"CoreTania",vocal:"CoreTania",pv:"CoreTania",has_lyrics:"true",ext_link:""},{principle:"work002",principle_url:"",title:"title2",cover:"https://via.placeholder.com/190x190",info_1:"xxx乐曲xxxxx;Arrangement提供",info_2:"",video_bilibili:"av2739129/?p=2",video_niconico:"dpw9EHDh2bM",video_youtube:"",original:"",compose:"magic girl",arrange:"CoreTania",lyric:"CoreTania",illust:"",vocal:"CoreTania",pv:"",has_lyrics:"true",ext_link:"https://weibo.com/u/6500013650"},{principle:"work003",principle_url:"https://weibo.com/u/6500013650",title:"title1",cover:"",info_1:"xxx乐曲xxxxx;Arrangement提供",info_2:"收录于专辑bbbbb",video_bilibili:"av35219233/?p=1",video_niconico:"",video_youtube:"sm30379034",original:"CoreTania",compose:"magic girl",arrange:"CoreTania",lyric:"",illust:"CoreTania",vocal:"CoreTania",pv:"CoreTania",has_lyrics:"false",ext_link:""},{principle:"work004",principle_url:"",title:"title3",cover:"https://via.placeholder.com/190x190",info_1:"xxx乐曲xxxxx;Arrangement提供",info_2:"收录于专辑bbbbb",video_bilibili:"av35219233/?p=1",video_niconico:"dpw9EHDh2bM",video_youtube:"",original:"CoreTania",compose:"",arrange:"CoreTania",lyric:"CoreTania",illust:"",vocal:"",pv:"",has_lyrics:"true",ext_link:"https://weibo.com/u/6500013650"},{principle:"work005",principle_url:"https://weibo.com/u/6500013650",title:"title4",cover:"https://via.placeholder.com/270x150",info_1:"xxx乐曲xxxxx;Arrangement提供",info_2:"",video_bilibili:"av35219233/?p=1",video_niconico:"dpw9EHDh2bM",video_youtube:"sm30379034",original:"CoreTania",compose:"magic girl",arrange:"",lyric:"",illust:"CoreTania",vocal:"",pv:"CoreTania",has_lyrics:"false",ext_link:"https://weibo.com/u/6500013650"}]},385:function(i,t,e){var a={"./HATO001/01.csv":[399,9],"./HATO001/02.csv":[400,10],"./HATO002/01.csv":[401,11],"./works/001.csv":[402,12],"./works/002.csv":[403,13],"./works/004.csv":[404,14]};function r(i){var t=a[i];return t?e.e(t[1]).then(function(){var i=t[0];return e.t(i,7)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(a)},r.id=385,i.exports=r},386:function(i,t,e){},412:function(i,t,e){"use strict";e.r(t);var a=e(1),r=e.n(a),o=e(360),n=e(373),c=e(374);e(386);function l(i){var t=i.info;return null===t?r.a.createElement("article",null):r.a.createElement("article",{className:"track-info__container"},r.a.createElement("header",{className:"track-info__header"},r.a.createElement("h2",{className:"track-info__title page__title"},t.title),r.a.createElement("div",{className:"track-info__links"},r.a.createElement("a",{href:t.links.music,target:"_blank",className:"track-info__link track-info__link--music"}))),r.a.createElement("section",{className:"track-info__author"},r.a.createElement("p",{className:"author__field"},"Original: ",t.author.original),r.a.createElement("p",{className:"author__field"},"Arrange: ",t.author.arrange),r.a.createElement("p",{className:"author__field"},"Lyric: ",t.author.lyrics),r.a.createElement("p",{className:"author__field"},"Vocal: ",t.author.vocal)))}e.d(t,"default",function(){return h});var s=function(i){var t=i.lyrics;return r.a.createElement("article",{className:"lyrics__body",id:"content"},["left","right"].map(function(i){return r.a.createElement("ul",{className:"lyrics__list lyrics__list--"+i,key:i},t.map(function(t){return t[i]}).map(function(i,t){return r.a.createElement("p",{className:"lyrics__line",key:t},i)}))}))};function u(i){var t=i.albumCode,e=void 0===t?"":t,a=i.trackId,r=void 0===a?"":a;return[n.a.findIndex(function(i){return i.code.toLowerCase()===e.toLowerCase()}),parseInt(r,10)-1]}function h(i){var t=Object(a.useState)([]),h=t[0],p=t[1],v=Object(a.useState)(null),m=v[0],f=v[1],d=Object(a.useState)(!1),_=d[0],k=d[1];function b(){var t=u(i.match.params),a=t[0],r=t[1];(function(i,t){var a=("00"+(t+1)).slice(-3);return"works"!==i&&(a=a.slice(-2)),new Promise(function(t,r){e(385)("./"+i+"/"+a+".csv").then(function(i){var e=i.default;return t(e)}).catch(r)})})("works"===i.match.params.albumCode?"works":n.a[a].code,r).then(function(i){p(i)}).catch(function(i){console.error(i),k(!0)})}return Object(a.useEffect)(function(){if(!function(i){var t=i.albumCode,e=void 0===t?"":t,a=i.trackId,r=void 0===a?"":a;if("works"===e){var o=parseInt(r,10);return!0===c.a[o-1].hasLyrics}if(e.toLowerCase()!==e)return!1;var l=n.a.findIndex(function(i){return i.code.toLowerCase()===e});if(l<0)return!1;if(2!==r.length)return!1;if(""===r||isNaN(r))return!1;var s=parseFloat(r)-1;return s===Math.floor(s)&&void 0!==n.a[l].tracks[s]&&!0===n.a[l].tracks[s].hasLyrics}(i.match.params))return console.error("url not valid"),void k(!0);!function(){if("works"===i.match.params.albumCode){var t=parseInt(i.match.params.trackId)-1;f(c.a[t])}else{var e=u(i.match.params),a=e[0];t=e[1],f(n.a[a].tracks[t])}}(),b()},[]),_?r.a.createElement(o.a,{to:"/404"}):r.a.createElement("main",{className:"lyrics__container"},r.a.createElement(l,{info:m}),r.a.createElement(s,{lyrics:h}))}}}]);