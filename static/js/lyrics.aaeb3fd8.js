(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{100:function(e,a){var t=1e3,n=60*t,r=60*n,o=24*r,i=365.25*o;function c(e,a,t){if(!(e<a))return e<1.5*a?Math.floor(e/a)+" "+t:Math.ceil(e/a)+" "+t+"s"}e.exports=function(e,a){a=a||{};var s,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&!1===isNaN(e))return a.long?c(s=e,o,"day")||c(s,r,"hour")||c(s,n,"minute")||c(s,t,"second")||s+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},101:function(e,a,t){},144:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(36),i=t(44),c=t(6),s=t(64),l=t.n(s),u=t(97),d=t.n(u),m="https://api.github.com/repos/hearts-round/hearts-round.github.io/contents/";function f(e){e=e.split("\n").join("");var a=decodeURIComponent(escape(atob(e)));return l.a.parse(a,{header:!0,comments:"#"}).data}function h(){var e=window["__ssr__"+"lyrics"+"__"];return void 0===e?null:f(e)}function p(e,a){var t=("0"+a).slice(-2);return new Promise(function(a,n){d()(m+"src/data/lyrics/"+e+"_"+t+".csv?ref=source",{timeout:5e3},function(e,t){if(null!=e)n(e);else{if(t.meta.status>199&&t.meta.status<300){!function(e,a){var t=document.createElement("script");t.innerHTML="var __ssr__"+a+"__="+JSON.stringify(e),document.getElementsByTagName("head")[0].appendChild(t)}(t.data.content,"lyrics");var r=f(t.data.content);a(r)}n(t.meta)}})})}t(101);function g(e){var a=e.info;return null===a?r.a.createElement("article",null):r.a.createElement("article",{className:"track-info__container"},r.a.createElement("header",{className:"track-info__header"},r.a.createElement("h2",{className:"track-info__title page__title"},a.title),r.a.createElement("div",{className:"track-info__links"},r.a.createElement("a",{href:a.link,target:"_blank",className:"track-info__link track-info__link--music"}))),r.a.createElement("section",{className:"track-info__author"},r.a.createElement("p",{className:"author__field"},"Original: ",a.author.original),r.a.createElement("p",{className:"author__field"},"Arrange: ",a.author.arrange),r.a.createElement("p",{className:"author__field"},"Lyric: ",a.author.lyrics),r.a.createElement("p",{className:"author__field"},"Vocal: ",a.author.vocal)))}t.d(a,"default",function(){return y});var v=function(e){var a=e.lyrics,t=e.timeoutFlag,n=e.reload;return r.a.createElement("article",{className:"lyrics__body",id:"content"},t?r.a.createElement("div",{className:"loading-failed"},r.a.createElement("h1",null,"Loading failed"),r.a.createElement("i",{className:"refresh-icon clickable",onClick:n})):["left","right"].map(function(e){return r.a.createElement("ul",{className:"lyrics__list lyrics__list--"+e,key:e},a.map(function(a){return a[e]}).map(function(e,a){return r.a.createElement("p",{className:"lyrics__line",key:a},e)}))}))};function k(e){var a=e.albumCode,t=void 0===a?"":a,n=e.trackId,r=void 0===n?"":n;return[i.a.findIndex(function(e){return e.code.toLowerCase()===t.toLowerCase()}),parseInt(r,10)]}function y(e){var a=Object(n.useState)([]),t=a[0],s=a[1],l=Object(n.useState)(!0),u=l[0],d=l[1],m=Object(n.useState)(null),f=m[0],y=m[1],w=Object(n.useState)(!1),_=w[0],b=w[1],E=Object(n.useState)(!1),N=E[0],x=E[1];function C(){var a=k(e.match.params),t=a[0],n=a[1];y(i.a[t].tracks[n])}function O(){var a=h();if(null!==a)return C(),d(!1),void s(a);d(!0);var t=k(e.match.params),n=t[0],r=t[1];p(i.a[n].code,r).then(function(e){d(!1),s(e)}).catch(function(e){"status"in e&&404===e.status?b(!0):x(!0),d(!1)})}return Object(n.useEffect)(function(){!function(e){var a=e.albumCode,t=void 0===a?"":a,n=e.trackId,r=void 0===n?"":n,o=i.a.findIndex(function(e){return e.code.toLowerCase()===t.toLowerCase()});if(o<0)return!1;if(""===r||isNaN(r))return!1;var c=parseFloat(r);return c===Math.floor(c)&&void 0!==i.a[o].tracks[c]&&!1===i.a[o].tracks[c].hasLyrics}(e.match.params)?b(!0):(C(),O())},[]),_?r.a.createElement(o.a,{to:"/404"}):r.a.createElement("main",{className:"lyrics__container"},r.a.createElement(g,{info:f}),u?r.a.createElement(c.a,null):r.a.createElement(v,{lyrics:t,timeoutFlag:N,reload:O}))}},44:function(e,a,t){"use strict";var n=t(47),r=function(){function e(e){var a,t,n,r,o,i;a=e.vocal,this.vocal=void 0===a?"":a,t=e.original,this.original=void 0===t?"":t,n=e.composer,this.composer=void 0===n?"":n,r=e.arrange,this.arrange=void 0===r?"":r,o=e.lyrics,this.lyrics=void 0===o?"":o,i=e.pv,this.pv=void 0===i?"":i}return e.prototype.merge=function(e,a){return""===this[e]&&""===this[a]?"":""===this[e]?this[a]:""===this[a]?this[e]:this[e]+" | "+this[a]},e}(),o=n.map(function(e){return{code:e.code,name:e.name,date:e.date,cover:e.cover,illustration:e.illustration,thanks:e.thanks,author:new r({}),productLink:e.product_link,tracks:e.tracks.map(function(e){return{title:e.title,length:e.length,link:e.link,hasLyrics:e.has_lyrics,author:new r({vocal:e.vocal,original:e.original,composer:e.composer,arrange:e.arrange,lyrics:e.lyrics})}})}});o.forEach(function(e){var a={};e.tracks.forEach(function(e){Object.keys(e.author).forEach(function(t){""===e.author[t]&&void 0!==e.author[t]||(void 0===a[t]?a[t]=[e.author[t]]:a[t].findIndex(function(a){return a===e.author[t]})<0&&a[t].push(e.author[t]))})}),Object.keys(a).forEach(function(t){void 0!==a[t]&&(e.author[t]=a[t].join(" | "))})});a.a=o},47:function(e){e.exports=[{name:"album001",code:"HATO001",cover:"https://via.placeholder.com/500x500",date:"2017-12-9",illustration:"TOMATO",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 001",vocal:"CoreTania",original:"original track 001",composer:"xxx",arrange:"xiaobai2",lyrics:"N-apoleon1",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 002",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!1}]},{name:"album002",code:"HATO002",date:"2017-12-12",cover:"https://via.placeholder.com/500x500",illustration:"TOMATO",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 004",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 005",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!1}]},{name:"album003",code:"HATO003",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",illustration:"TOMATO",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 008",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!1},{title:"track 007",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]},{name:"album004",code:"HATO004",date:"2017-11-11",cover:"https://via.placeholder.com/500x500",illustration:"TOMATO",thanks:"Renka",product_link:{taobao:"https://www.taobao.com",tora:"https://www.toranoana.jp/"},tracks:[{title:"track 021",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0},{title:"track 011",vocal:"CoreTania",original:"original track 001",arrange:"xiaobai",lyrics:"N-apoleon",length:"04:32",link:"mp3_link",has_lyrics:!0}]}]},97:function(e,a,t){var n=t(98)("jsonp");e.exports=function(e,a,t){"function"==typeof a&&(t=a,a={});a||(a={});var i,c,s=a.prefix||"__jp",l=a.name||s+r++,u=a.param||"callback",d=null!=a.timeout?a.timeout:6e4,m=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;d&&(c=setTimeout(function(){h(),t&&t(new Error("Timeout"))},d));function h(){i.parentNode&&i.parentNode.removeChild(i),window[l]=o,c&&clearTimeout(c)}return window[l]=function(e){n("jsonp got",e),h(),t&&t(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+u+"="+m(l)).replace("?&","?"),n('jsonp req "%s"',e),(i=document.createElement("script")).src=e,f.parentNode.insertBefore(i,f),function(){window[l]&&h()}};var r=0;function o(){}},98:function(e,a,t){(function(n){function r(){var e;try{e=a.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(a=e.exports=t(99)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},a.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+a.humanize(this.diff),!t)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,n)},a.save=function(e){try{null==e?a.storage.removeItem("debug"):a.storage.debug=e}catch(e){}},a.load=r,a.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},a.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),a.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],a.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},a.enable(r())}).call(this,t(51))},99:function(e,a,t){var n;function r(e){function t(){if(t.enabled){var e=t,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var i=new Array(arguments.length),c=0;c<i.length;c++)i[c]=arguments[c];i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;s++;var r=a.formatters[n];if("function"==typeof r){var o=i[s];t=r.call(e,o),i.splice(s,1),s--}return t}),a.formatArgs.call(e,i),(t.log||a.log||console.log.bind(console)).apply(e,i)}}return t.namespace=e,t.enabled=a.enabled(e),t.useColors=a.useColors(),t.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return a.colors[Math.abs(n)%a.colors.length]}(e),"function"==typeof a.init&&a.init(t),t}(a=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){a.enable("")},a.enable=function(e){a.save(e),a.names=[],a.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)t[r]&&("-"===(e=t[r].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){var t,n;for(t=0,n=a.skips.length;t<n;t++)if(a.skips[t].test(e))return!1;for(t=0,n=a.names.length;t<n;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=t(100),a.names=[],a.skips=[],a.formatters={}}}]);